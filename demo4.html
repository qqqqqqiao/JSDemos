<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>demo4</title>
</head>
<body>
	<script type="text/javascript">
		var arr1 = new Array(2);
		console.log(arr1);

		var arr2 = ['a','b'];
		console.log(0 in arr2);

		console.log(typeof arr2);
		console.log(Array.isArray(arr2));
		console.log(arr2.valueOf());
		console.log(arr2.toString());

		var arr3 = [];
		console.log(arr3.push(1));
		console.log(arr3.push('a',true,{}));
		console.log(arr3);

		var arr4 = [1,2,3];
		var arr5 = [4,5,6];
		console.log(arr4.push.apply(arr4,arr5));
		console.log(arr4);

		var arr6 = ['a','b','c','d'];
		console.log(arr6.pop());
		console.log(arr6);
		console.log([].pop());

		console.log(arr6.join(' '));
		console.log(arr6.join('|'));
		console.log(arr6.join());

		console.log([undefined,null].join());

		console.log(Array.prototype.join.call('hello','-'));

		var o1 = {0:'a',1:'b',length:2}
		console.log(Array.prototype.join.call(o1,'-'));

		console.log(['hello'].concat(['js','world']));

		var o2 = {a:1};
		var oldArray = [o2];
		var newArray = oldArray.concat();
		o2.a=2;
		console.log(newArray[0].a);

		console.log([].concat.call({a:1},{b:2}));
		console.log([].concat.call({a:1},[2]));
		console.log([2].concat({a:1}));

		var arr7 = ['a','b','c','d'];
		console.log(arr7.shift());
		console.log(arr7);

		console.log([].shift());

		var arr8 = [1,2,3,4,5,6];
		var item;
		while(item = arr8.shift()){
			console.log(item);
		}
		console.log(arr8);
		console.log((item=1)==true);
		console.log((item=undefined)==true);

		var arr9 = ['c','d'];
		console.log(arr9.unshift('a','b'));
		console.log(arr9);
		console.log(arr9.reverse());
		console.log(arr9.slice(0));
		console.log(arr9.slice(0,1));
		console.log(arr9.slice(-2,-1));
		console.log(arr9.slice(2,1));
		console.log(arr9.slice(8));

		console.log(Array.prototype.slice.call({0:'a',1:'b',length:2}));

		var arr10 = ['a', 'b', 'c', 'd', 'e', 'f'];
		console.log(arr10.splice(4,2,1,2));
		console.log(arr10);
		console.log(arr10.splice(-4,2));

		var arr11 = [1,1,1];
		console.log(arr11.splice(1,0,2));
		console.log(arr11);

		console.log(['d','c','b','a'].sort());
		console.log(['4','3','2','1'].sort());
		console.log(['101','11','111'].sort());

		var arr12 = ['101','11','111'];
		console.log(arr12.sort(function(a,b){
			return a-b;
		}));

		var arr13 = [
			{name:"zhangsan",age:30},
			{name:"lisi",age:24},
			{name:"wangwu",age:28}
		];
		console.log(arr13.sort(function(a,b){
			return a.age-b.age;
		}));

		var arr14 = [1,2,3,4];
		console.log(arr14.map(function(n) {
			return n+1;
		}));

		console.log(arr14.map(function(index, elem) {
			return index-elem;
		}));

		var upper = function(x){
			return x.toUpperCase();
		};
		console.log([].map.call('abc',upper));

		console.log('abc'.split('').map(upper));

		var arr15 = ['a','b','c'];
		console.log([1,2].map(function(e) {
			return this[e];
		},arr15));

		var f1 = function(n){return n+1};
		console.log([1,undefined,2].map(f1));
		console.log([1,null,2].map(f1));
		console.log([1,,2].map(f1)[1]);

		console.log(Array(2).map(function(){
			console.log('enter...');
			return 1;
		}));
		console.log(Array(2));

		function log1(element,index,array){
			console.log('['+index+']='+element);
		};
		[1,2,3].forEach(log1);

		var out1=[];
		[1,2,3].forEach(function(ele){
			this.push(ele*ele);
		},out1);
		console.log(out1);

		var obj1 = {
			name:'zhangsan',
			times:[1,2,3],
			print:function(){
				this.times.forEach(function(n){
					console.log(this.name);
				})
			}
		};
		obj1.print();

		var obj2 = {
			name:'zhangsan',
			times:[1,2,3],
			print:function(){
				this.times.forEach(function(n){
					console.log(this.name);
				},this)
			}
		};
		obj2.print();

		var arr16 = [1,2,3];
		for(var i=0;i<arr16.length;i++){
			if(arr16[i]==2) break;
			console.log(arr16[i]);
		};

		var log2 = function(n){
			console.log(n+1);
		};
		[1,undefined,2].forEach(log2);
		[1,null,2].forEach(log2);
		[1,,2].forEach(log2);

		var obj3 = {
			0:1,
			a:'hello',
			length:1
		}
		Array.prototype.forEach.call(obj3,function(elem,i){
			console.log(i+':'+elem);
		});

		var str='hello';
		Array.prototype.forEach.call(str,function(elem,i){
			console.log(i+':'+elem);
		});

		var arr17 = [1,2,3,4,5].filter(function(index) {
			return (index>3);
		});
		console.log(arr17);

		var arr18 = [0,1,false,'a'];
		console.log(arr18.filter(Boolean));

		var arr19 = [1,2,3,4,5].filter(function(elem,index,arr) {
			return index%2===0;
		});
		console.log(arr19);

		var obj4 = function(n){
			this.MAX=n;
		};
		var myFilter = function(item){
			if(item>this.MAX) return true;
		};
		var arr20 = [1,2,3,4,5,6,7].filter(myFilter, new obj4(4));
		console.log(arr20);

		var arr21 = [1,2,3,4,5];
		var flag1 = arr21.some(function(ele,index,arr){
			return ele>3;
		});
		console.log(flag1);
		var flag2 = arr21.every(function(ele,index,arr){
			return ele>3;
		});
		console.log(flag2);

		[1,2,3,4,5].reduce(function(x,y){
			console.log(x,y);
			return x+y;
		});

		Array.prototype.sum = function(){
			return this.reduce(function(partial, value){
				return partial+value;
			})
		};
		console.log([1,2,3,4,5].sum());

		var temp1 = [1,2,3,4,5].reduce(function(x,y){
			return x+y;
		},10);
		console.log(temp1);

		function add(pre,cur){
			return pre+cur;
		};
		console.log([].reduce(add,1));

		function substract(pre,cur){
			return pre-cur;
		};
		var temp2 = [3,2,1].reduce(substract);
		var temp3 = [3,2,1].reduceRight(substract);
		console.log(temp2);
		console.log(temp3);

		function findLongest(entries){
			return entries.reduce(function(longest,entry){
				return entry.length>longest.length ? entry : longest;
			},'');
		};
		console.log(findLongest(['aaa','aaaaaaaaa','a']));

		var arr22 = ['a','b','c'];
		console.log(arr22.indexOf('a'));
		console.log(arr22.indexOf('z'));
		console.log(arr22.indexOf('a',1));

		var arr23 = [1,2,3,2,1];
		console.log(arr23.lastIndexOf(2));
		console.log(arr23.lastIndexOf(4));

		console.log([NaN].indexOf(NaN));
		console.log([null].indexOf(null));

		var arr24 = [
			{name:'tom',email:'tom@example.com'},
			{name:'cat',email:'cat@example.com'},
			{name:'tat',email:'tat@example.com'}
		];
		arr24.map(function(user){
			return user.email;
		}).filter(function(email){
			return /^t/.test(email);
		}).forEach(alert);
	</script>
</body>
</html>